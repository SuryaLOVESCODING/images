"use strict";!function(){var logGDPRMessage=function(msg){console.log("[GDPR]: "+msg)},safeCallTealiumFn=function(){logGDPRMessage("GDPR local safe call Tealium function entered."),void 0!==window.tealium_loaded&&window.tealium_loaded||(logGDPRMessage("Tealium hasn't been previously loaded."),"undefined"!=typeof loadTealiumTagFn&&"function"==typeof loadTealiumTagFn?(logGDPRMessage("loadTealiumTagFn() called."),loadTealiumTagFn()):logGDPRMessage("Error - loadTealiumTagFn wasn't defined."))},getCookie=function(cname){for(var name=cname+"=",decodedCookie=decodeURIComponent(document.cookie),ca=decodedCookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(name))return c.substring(name.length,c.length)}return""},getCountry=function(){var onSuccess=function(geoipResponse){logGDPRMessage("GDPR success response entered.");var code=geoipResponse.country.iso_code.toLowerCase();document.cookie="GDPR_country_code="+code+";domain=.acefitness.org;path=/;",safeCallTealiumFn()},onError=function(error){logGDPRMessage("GDPR error response entered."),safeCallTealiumFn()};return function(){""==getCookie("GDPR_country_code")?(logGDPRMessage("GDPR cookie doesn't exist."),geoip2.country(onSuccess,onError),setTimeout(function(){safeCallTealiumFn()},500)):(logGDPRMessage("GDPR cookie exists.  GeoIP2 call skipped."),safeCallTealiumFn())}}();if("undefined"!=typeof geoip2)try{getCountry()}catch(e){logGDPRMessage("Error - "+e),safeCallTealiumFn()}else logGDPRMessage("GeoIP2 doesn't exist.  GeoIP2 call skipped."),safeCallTealiumFn()}();
//# sourceMappingURL=../../maps/Shared/GDPR.min.js.map
